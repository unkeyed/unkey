// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: clickhouse_workspace_settings_find_by_workspace_id.sql

package db

import (
	"context"
)

const findClickhouseWorkspaceSettingsByWorkspaceID = `-- name: FindClickhouseWorkspaceSettingsByWorkspaceID :one
SELECT
    c.pk, c.workspace_id, c.username, c.password_encrypted, c.quota_duration_seconds, c.max_queries_per_window, c.max_execution_time_per_window, c.max_query_execution_time, c.max_query_memory_bytes, c.max_query_result_rows, c.created_at, c.updated_at,
    q.pk, q.workspace_id, q.requests_per_month, q.logs_retention_days, q.audit_logs_retention_days, q.team
FROM ` + "`" + `clickhouse_workspace_settings` + "`" + ` c
JOIN ` + "`" + `quota` + "`" + ` q ON c.workspace_id = q.workspace_id
WHERE c.workspace_id = ?
`

type FindClickhouseWorkspaceSettingsByWorkspaceIDRow struct {
	ClickhouseWorkspaceSetting ClickhouseWorkspaceSetting `db:"clickhouse_workspace_setting"`
	Quotas                     Quotum                     `db:"quotum"`
}

// FindClickhouseWorkspaceSettingsByWorkspaceID
//
//	SELECT
//	    c.pk, c.workspace_id, c.username, c.password_encrypted, c.quota_duration_seconds, c.max_queries_per_window, c.max_execution_time_per_window, c.max_query_execution_time, c.max_query_memory_bytes, c.max_query_result_rows, c.created_at, c.updated_at,
//	    q.pk, q.workspace_id, q.requests_per_month, q.logs_retention_days, q.audit_logs_retention_days, q.team
//	FROM `clickhouse_workspace_settings` c
//	JOIN `quota` q ON c.workspace_id = q.workspace_id
//	WHERE c.workspace_id = ?
func (q *Queries) FindClickhouseWorkspaceSettingsByWorkspaceID(ctx context.Context, db DBTX, workspaceID string) (FindClickhouseWorkspaceSettingsByWorkspaceIDRow, error) {
	row := db.QueryRowContext(ctx, findClickhouseWorkspaceSettingsByWorkspaceID, workspaceID)
	var i FindClickhouseWorkspaceSettingsByWorkspaceIDRow
	err := row.Scan(
		&i.ClickhouseWorkspaceSetting.Pk,
		&i.ClickhouseWorkspaceSetting.WorkspaceID,
		&i.ClickhouseWorkspaceSetting.Username,
		&i.ClickhouseWorkspaceSetting.PasswordEncrypted,
		&i.ClickhouseWorkspaceSetting.QuotaDurationSeconds,
		&i.ClickhouseWorkspaceSetting.MaxQueriesPerWindow,
		&i.ClickhouseWorkspaceSetting.MaxExecutionTimePerWindow,
		&i.ClickhouseWorkspaceSetting.MaxQueryExecutionTime,
		&i.ClickhouseWorkspaceSetting.MaxQueryMemoryBytes,
		&i.ClickhouseWorkspaceSetting.MaxQueryResultRows,
		&i.ClickhouseWorkspaceSetting.CreatedAt,
		&i.ClickhouseWorkspaceSetting.UpdatedAt,
		&i.Quotas.Pk,
		&i.Quotas.WorkspaceID,
		&i.Quotas.RequestsPerMonth,
		&i.Quotas.LogsRetentionDays,
		&i.Quotas.AuditLogsRetentionDays,
		&i.Quotas.Team,
	)
	return i, err
}
