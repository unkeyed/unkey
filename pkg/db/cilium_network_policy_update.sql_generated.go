// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: cilium_network_policy_update.sql

package db

import (
	"context"
	"database/sql"
	"encoding/json"
)

const updateCiliumNetworkPolicyByEnvironmentRegionAndName = `-- name: UpdateCiliumNetworkPolicyByEnvironmentRegionAndName :exec
UPDATE cilium_network_policies
SET policy = ?,
    version = ?,
    updated_at = ?
WHERE environment_id = ?
  AND region = ?
  AND k8s_name = ?
`

type UpdateCiliumNetworkPolicyByEnvironmentRegionAndNameParams struct {
	Policy        json.RawMessage `db:"policy"`
	Version       uint64          `db:"version"`
	UpdatedAt     sql.NullInt64   `db:"updated_at"`
	EnvironmentID string          `db:"environment_id"`
	Region        string          `db:"region"`
	K8sName       string          `db:"k8s_name"`
}

// UpdateCiliumNetworkPolicyByEnvironmentRegionAndName
//
//	UPDATE cilium_network_policies
//	SET policy = ?,
//	    version = ?,
//	    updated_at = ?
//	WHERE environment_id = ?
//	  AND region = ?
//	  AND k8s_name = ?
func (q *Queries) UpdateCiliumNetworkPolicyByEnvironmentRegionAndName(ctx context.Context, db DBTX, arg UpdateCiliumNetworkPolicyByEnvironmentRegionAndNameParams) error {
	_, err := db.ExecContext(ctx, updateCiliumNetworkPolicyByEnvironmentRegionAndName,
		arg.Policy,
		arg.Version,
		arg.UpdatedAt,
		arg.EnvironmentID,
		arg.Region,
		arg.K8sName,
	)
	return err
}
