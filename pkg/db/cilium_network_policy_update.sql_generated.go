// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: cilium_network_policy_update.sql

package db

import (
	"context"
	"database/sql"
	"encoding/json"
)

const updateCiliumNetworkPolicyByEnvironmentAndRegion = `-- name: UpdateCiliumNetworkPolicyByEnvironmentAndRegion :exec
UPDATE cilium_network_policies
SET policy = ?,
    version = ?,
    updated_at = ?
WHERE environment_id = ?
  AND region = ?
`

type UpdateCiliumNetworkPolicyByEnvironmentAndRegionParams struct {
	Policy        json.RawMessage `db:"policy"`
	Version       uint64          `db:"version"`
	UpdatedAt     sql.NullInt64   `db:"updated_at"`
	EnvironmentID string          `db:"environment_id"`
	Region        string          `db:"region"`
}

// UpdateCiliumNetworkPolicyByEnvironmentAndRegion
//
//	UPDATE cilium_network_policies
//	SET policy = ?,
//	    version = ?,
//	    updated_at = ?
//	WHERE environment_id = ?
//	  AND region = ?
func (q *Queries) UpdateCiliumNetworkPolicyByEnvironmentAndRegion(ctx context.Context, db DBTX, arg UpdateCiliumNetworkPolicyByEnvironmentAndRegionParams) error {
	_, err := db.ExecContext(ctx, updateCiliumNetworkPolicyByEnvironmentAndRegion,
		arg.Policy,
		arg.Version,
		arg.UpdatedAt,
		arg.EnvironmentID,
		arg.Region,
	)
	return err
}
