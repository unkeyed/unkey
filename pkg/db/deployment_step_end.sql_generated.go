// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: deployment_step_end.sql

package db

import (
	"context"
	"database/sql"
)

const endDeploymentStep = `-- name: EndDeploymentStep :exec
UPDATE ` + "`" + `deployment_steps` + "`" + `
SET ended_at = ?, error = ?
WHERE deployment_id = ? AND step = ?
`

type EndDeploymentStepParams struct {
	EndedAt      sql.NullInt64       `db:"ended_at"`
	Error        sql.NullString      `db:"error"`
	DeploymentID string              `db:"deployment_id"`
	Step         DeploymentStepsStep `db:"step"`
}

// EndDeploymentStep
//
//	UPDATE `deployment_steps`
//	SET ended_at = ?, error = ?
//	WHERE deployment_id = ? AND step = ?
func (q *Queries) EndDeploymentStep(ctx context.Context, db DBTX, arg EndDeploymentStepParams) error {
	_, err := db.ExecContext(ctx, endDeploymentStep,
		arg.EndedAt,
		arg.Error,
		arg.DeploymentID,
		arg.Step,
	)
	return err
}
