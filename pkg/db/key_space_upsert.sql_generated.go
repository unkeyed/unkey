// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: key_space_upsert.sql

package db

import (
	"context"
	"database/sql"
)

const upsertKeySpace = `-- name: UpsertKeySpace :exec
INSERT INTO key_auth (
    id,
    workspace_id,
    created_at_m,
    default_prefix,
    default_bytes,
    store_encrypted_keys
) VALUES (?, ?, ?, ?, ?, ?)
ON DUPLICATE KEY UPDATE
    workspace_id = VALUES(workspace_id),
    store_encrypted_keys = VALUES(store_encrypted_keys)
`

type UpsertKeySpaceParams struct {
	ID                 string         `db:"id"`
	WorkspaceID        string         `db:"workspace_id"`
	CreatedAtM         int64          `db:"created_at_m"`
	DefaultPrefix      sql.NullString `db:"default_prefix"`
	DefaultBytes       sql.NullInt32  `db:"default_bytes"`
	StoreEncryptedKeys bool           `db:"store_encrypted_keys"`
}

// UpsertKeySpace
//
//	INSERT INTO key_auth (
//	    id,
//	    workspace_id,
//	    created_at_m,
//	    default_prefix,
//	    default_bytes,
//	    store_encrypted_keys
//	) VALUES (?, ?, ?, ?, ?, ?)
//	ON DUPLICATE KEY UPDATE
//	    workspace_id = VALUES(workspace_id),
//	    store_encrypted_keys = VALUES(store_encrypted_keys)
func (q *Queries) UpsertKeySpace(ctx context.Context, db DBTX, arg UpsertKeySpaceParams) error {
	_, err := db.ExecContext(ctx, upsertKeySpace,
		arg.ID,
		arg.WorkspaceID,
		arg.CreatedAtM,
		arg.DefaultPrefix,
		arg.DefaultBytes,
		arg.StoreEncryptedKeys,
	)
	return err
}
