// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: state_change_insert.sql

package db

import (
	"context"
)

const insertStateChange = `-- name: InsertStateChange :execlastid
INSERT INTO ` + "`" + `state_changes` + "`" + ` (
    resource_type,
    state,
    cluster_id,
    created_at
) VALUES (
    ?,
    ?,
    ?,
    ?
)
`

type InsertStateChangeParams struct {
	ResourceType StateChangesResourceType `db:"resource_type"`
	State        []byte                   `db:"state"`
	ClusterID    string                   `db:"cluster_id"`
	CreatedAt    uint64                   `db:"created_at"`
}

// InsertStateChange
//
//	INSERT INTO `state_changes` (
//	    resource_type,
//	    state,
//	    cluster_id,
//	    created_at
//	) VALUES (
//	    ?,
//	    ?,
//	    ?,
//	    ?
//	)
func (q *Queries) InsertStateChange(ctx context.Context, db DBTX, arg InsertStateChangeParams) (int64, error) {
	result, err := db.ExecContext(ctx, insertStateChange,
		arg.ResourceType,
		arg.State,
		arg.ClusterID,
		arg.CreatedAt,
	)
	if err != nil {
		return 0, err
	}
	return result.LastInsertId()
}
