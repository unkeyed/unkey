// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: deployment_exists_by_sha_app_env.sql

package db

import (
	"context"
	"database/sql"
)

const deploymentExistsByCommitShaAppAndEnv = `-- name: DeploymentExistsByCommitShaAppAndEnv :one
SELECT EXISTS(
    SELECT 1 FROM deployments
    WHERE git_commit_sha = ?
      AND app_id = ?
      AND environment_id = ?
) AS ` + "`" + `exists` + "`" + `
`

type DeploymentExistsByCommitShaAppAndEnvParams struct {
	GitCommitSha  sql.NullString `db:"git_commit_sha"`
	AppID         string         `db:"app_id"`
	EnvironmentID string         `db:"environment_id"`
}

// DeploymentExistsByCommitShaAppAndEnv
//
//	SELECT EXISTS(
//	    SELECT 1 FROM deployments
//	    WHERE git_commit_sha = ?
//	      AND app_id = ?
//	      AND environment_id = ?
//	) AS `exists`
func (q *Queries) DeploymentExistsByCommitShaAppAndEnv(ctx context.Context, db DBTX, arg DeploymentExistsByCommitShaAppAndEnvParams) (bool, error) {
	row := db.QueryRowContext(ctx, deploymentExistsByCommitShaAppAndEnv, arg.GitCommitSha, arg.AppID, arg.EnvironmentID)
	var exists bool
	err := row.Scan(&exists)
	return exists, err
}
