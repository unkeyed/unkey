// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: app_internal_service_upsert.sql

package db

import (
	"context"
	"database/sql"
)

const upsertAppInternalService = `-- name: UpsertAppInternalService :exec
INSERT INTO app_internal_services (
    id,
    workspace_id,
    app_id,
    environment_id,
    region,
    k8s_service_name,
    k8s_namespace,
    port,
    created_at,
    updated_at
) VALUES (
    ?,
    ?,
    ?,
    ?,
    ?,
    ?,
    ?,
    ?,
    ?,
    ?
)
ON DUPLICATE KEY UPDATE
    k8s_service_name = VALUES(k8s_service_name),
    k8s_namespace = VALUES(k8s_namespace),
    port = VALUES(port),
    updated_at = VALUES(updated_at)
`

type UpsertAppInternalServiceParams struct {
	ID             string        `db:"id"`
	WorkspaceID    string        `db:"workspace_id"`
	AppID          string        `db:"app_id"`
	EnvironmentID  string        `db:"environment_id"`
	Region         string        `db:"region"`
	K8sServiceName string        `db:"k8s_service_name"`
	K8sNamespace   string        `db:"k8s_namespace"`
	Port           int32         `db:"port"`
	CreatedAt      int64         `db:"created_at"`
	UpdatedAt      sql.NullInt64 `db:"updated_at"`
}

// UpsertAppInternalService
//
//	INSERT INTO app_internal_services (
//	    id,
//	    workspace_id,
//	    app_id,
//	    environment_id,
//	    region,
//	    k8s_service_name,
//	    k8s_namespace,
//	    port,
//	    created_at,
//	    updated_at
//	) VALUES (
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?
//	)
//	ON DUPLICATE KEY UPDATE
//	    k8s_service_name = VALUES(k8s_service_name),
//	    k8s_namespace = VALUES(k8s_namespace),
//	    port = VALUES(port),
//	    updated_at = VALUES(updated_at)
func (q *Queries) UpsertAppInternalService(ctx context.Context, db DBTX, arg UpsertAppInternalServiceParams) error {
	_, err := db.ExecContext(ctx, upsertAppInternalService,
		arg.ID,
		arg.WorkspaceID,
		arg.AppID,
		arg.EnvironmentID,
		arg.Region,
		arg.K8sServiceName,
		arg.K8sNamespace,
		arg.Port,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	return err
}
