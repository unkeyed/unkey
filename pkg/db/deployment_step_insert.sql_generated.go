// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: deployment_step_insert.sql

package db

import (
	"context"
)

const insertDeploymentStep = `-- name: InsertDeploymentStep :exec
INSERT INTO ` + "`" + `deployment_steps` + "`" + ` (
    workspace_id,
    project_id,
    environment_id,
    deployment_id,
    step,
    started_at
)
VALUES (
    ?,
    ?,
    ?,
    ?,
    ?,
    ?
)
ON DUPLICATE KEY UPDATE
    started_at = VALUES(started_at)
`

type InsertDeploymentStepParams struct {
	WorkspaceID   string              `db:"workspace_id"`
	ProjectID     string              `db:"project_id"`
	EnvironmentID string              `db:"environment_id"`
	DeploymentID  string              `db:"deployment_id"`
	Step          DeploymentStepsStep `db:"step"`
	StartedAt     uint64              `db:"started_at"`
}

// InsertDeploymentStep
//
//	INSERT INTO `deployment_steps` (
//	    workspace_id,
//	    project_id,
//	    environment_id,
//	    deployment_id,
//	    step,
//	    started_at
//	)
//	VALUES (
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?
//	)
//	ON DUPLICATE KEY UPDATE
//	    started_at = VALUES(started_at)
func (q *Queries) InsertDeploymentStep(ctx context.Context, db DBTX, arg InsertDeploymentStepParams) error {
	_, err := db.ExecContext(ctx, insertDeploymentStep,
		arg.WorkspaceID,
		arg.ProjectID,
		arg.EnvironmentID,
		arg.DeploymentID,
		arg.Step,
		arg.StartedAt,
	)
	return err
}
