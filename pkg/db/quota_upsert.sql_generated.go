// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: quota_upsert.sql

package db

import (
	"context"
)

const upsertQuota = `-- name: UpsertQuota :exec
INSERT INTO quota (
    workspace_id,
    requests_per_month,
    audit_logs_retention_days,
    logs_retention_days,
    team
) VALUES (?, ?, ?, ?, ?)
ON DUPLICATE KEY UPDATE
    requests_per_month = VALUES(requests_per_month),
    audit_logs_retention_days = VALUES(audit_logs_retention_days),
    logs_retention_days = VALUES(logs_retention_days)
`

type UpsertQuotaParams struct {
	WorkspaceID            string `db:"workspace_id"`
	RequestsPerMonth       int64  `db:"requests_per_month"`
	AuditLogsRetentionDays int32  `db:"audit_logs_retention_days"`
	LogsRetentionDays      int32  `db:"logs_retention_days"`
	Team                   bool   `db:"team"`
}

// UpsertQuota
//
//	INSERT INTO quota (
//	    workspace_id,
//	    requests_per_month,
//	    audit_logs_retention_days,
//	    logs_retention_days,
//	    team
//	) VALUES (?, ?, ?, ?, ?)
//	ON DUPLICATE KEY UPDATE
//	    requests_per_month = VALUES(requests_per_month),
//	    audit_logs_retention_days = VALUES(audit_logs_retention_days),
//	    logs_retention_days = VALUES(logs_retention_days)
func (q *Queries) UpsertQuota(ctx context.Context, db DBTX, arg UpsertQuotaParams) error {
	_, err := db.ExecContext(ctx, upsertQuota,
		arg.WorkspaceID,
		arg.RequestsPerMonth,
		arg.AuditLogsRetentionDays,
		arg.LogsRetentionDays,
		arg.Team,
	)
	return err
}
