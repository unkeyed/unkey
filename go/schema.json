{
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string",
      "description": "Make jsonschema happy"
    },
    "clickhouse": {
      "type": "object",
      "properties": {
        "url": {
          "type": "string",
          "minLength": 1
        }
      },
      "additionalProperties": false,
      "required": ["url"]
    },
    "database": {
      "type": "object",
      "properties": {
        "primary": {
          "type": "string"
        },
        "readonlyReplica": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "required": ["primary"]
    },
    "heartbeat": {
      "type": "object",
      "description": "Send heartbeat to a URL",
      "properties": {
        "interval": {
          "type": "integer",
          "description": "Interval in seconds to send heartbeat",
          "format": "int32"
        },
        "url": {
          "type": "string",
          "description": "URL to send heartbeat to",
          "minLength": 1
        }
      },
      "additionalProperties": false,
      "required": ["url", "interval"]
    },
    "httpAddr": {
      "type": "string",
      "description": "Port to listen on",
      "default": ":7070"
    },
    "image": {
      "type": "string",
      "description": "The image this agent is running"
    },
    "nodeId": {
      "type": "string",
      "description": "A unique node id"
    },
    "platform": {
      "type": "string",
      "description": "The platform this agent is running on"
    },
    "redisUrl": {
      "type": "string"
    },
    "region": {
      "type": "string",
      "description": "The region this agent is running in"
    },
    "rpcAddr": {
      "type": "string",
      "description": "The internal address for RPC",
      "default": ":7071"
    }
  },
  "additionalProperties": true,
  "required": ["httpAddr", "rpcAddr", "redisUrl", "database"]
}
