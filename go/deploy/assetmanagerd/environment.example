# AssetManagerd Environment Variables Template
# NOTE: This service does NOT load .env files automatically
# Set these variables in your system environment or process manager
# 
# Usage examples:
#   systemd: EnvironmentFile=/etc/assetmanagerd/environment
#   Docker:  docker run --env-file environment assetmanagerd
#   Shell:   set -a; source environment; set +a; ./assetmanagerd

# Service Configuration
UNKEY_ASSETMANAGERD_PORT=8083
UNKEY_ASSETMANAGERD_ADDRESS=0.0.0.0

# Storage Configuration
UNKEY_ASSETMANAGERD_STORAGE_BACKEND=local
UNKEY_ASSETMANAGERD_LOCAL_STORAGE_PATH=/opt/vm-assets
UNKEY_ASSETMANAGERD_DATABASE_PATH=/opt/assetmanagerd/assets.db
UNKEY_ASSETMANAGERD_CACHE_DIR=/opt/assetmanagerd/cache

# S3 Storage Configuration (when STORAGE_BACKEND=s3)
UNKEY_ASSETMANAGERD_S3_BUCKET=
UNKEY_ASSETMANAGERD_S3_REGION=us-east-1
UNKEY_ASSETMANAGERD_S3_ENDPOINT=
UNKEY_ASSETMANAGERD_S3_ACCESS_KEY_ID=
UNKEY_ASSETMANAGERD_S3_SECRET_ACCESS_KEY=

# Asset Management
UNKEY_ASSETMANAGERD_MAX_ASSET_SIZE=10737418240
UNKEY_ASSETMANAGERD_MAX_CACHE_SIZE=107374182400
UNKEY_ASSETMANAGERD_ASSET_TTL=0
UNKEY_ASSETMANAGERD_DOWNLOAD_CONCURRENCY=4
UNKEY_ASSETMANAGERD_DOWNLOAD_TIMEOUT=30m

# Garbage Collection
UNKEY_ASSETMANAGERD_GC_ENABLED=true
UNKEY_ASSETMANAGERD_GC_INTERVAL=1h
UNKEY_ASSETMANAGERD_GC_MAX_AGE=168h
UNKEY_ASSETMANAGERD_GC_MIN_REFERENCES=0

# Builderd Integration
UNKEY_ASSETMANAGERD_BUILDERD_ENABLED=true
UNKEY_ASSETMANAGERD_BUILDERD_ENDPOINT=https://localhost:8082
UNKEY_ASSETMANAGERD_BUILDERD_TIMEOUT=30m
UNKEY_ASSETMANAGERD_BUILDERD_AUTO_REGISTER=true
UNKEY_ASSETMANAGERD_BUILDERD_MAX_RETRIES=3
UNKEY_ASSETMANAGERD_BUILDERD_RETRY_DELAY=5s

# TLS Configuration
UNKEY_ASSETMANAGERD_TLS_MODE=spiffe
UNKEY_ASSETMANAGERD_SPIFFE_SOCKET=/var/lib/spire/agent/agent.sock
UNKEY_ASSETMANAGERD_TLS_CERT_FILE=
UNKEY_ASSETMANAGERD_TLS_KEY_FILE=
UNKEY_ASSETMANAGERD_TLS_CA_FILE=

# OpenTelemetry Configuration
UNKEY_ASSETMANAGERD_OTEL_ENABLED=true
UNKEY_ASSETMANAGERD_OTEL_SERVICE_NAME=assetmanagerd
UNKEY_ASSETMANAGERD_OTEL_SERVICE_VERSION=0.2.0
UNKEY_ASSETMANAGERD_OTEL_SAMPLING_RATE=1.0
UNKEY_ASSETMANAGERD_OTEL_ENDPOINT=localhost:4318
UNKEY_ASSETMANAGERD_OTEL_PROMETHEUS_ENABLED=true
UNKEY_ASSETMANAGERD_OTEL_PROMETHEUS_PORT=9467
UNKEY_ASSETMANAGERD_OTEL_PROMETHEUS_INTERFACE=127.0.0.1