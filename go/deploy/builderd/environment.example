# Builderd Environment Variables Template
# NOTE: This service does NOT load .env files automatically
# Set these variables in your system environment or process manager
# 
# Usage examples:
#   systemd: EnvironmentFile=/etc/builderd/environment
#   Docker:  docker run --env-file environment builderd
#   Shell:   set -a; source environment; set +a; ./builderd

# Service Configuration
UNKEY_BUILDERD_PORT=8082
UNKEY_BUILDERD_ADDRESS=0.0.0.0
UNKEY_BUILDERD_SHUTDOWN_TIMEOUT=15s
UNKEY_BUILDERD_RATE_LIMIT=100

# Build Configuration
UNKEY_BUILDERD_MAX_CONCURRENT_BUILDS=5
UNKEY_BUILDERD_BUILD_TIMEOUT=15m
UNKEY_BUILDERD_SCRATCH_DIR=/tmp/builderd
UNKEY_BUILDERD_ROOTFS_OUTPUT_DIR=/opt/builderd/rootfs
UNKEY_BUILDERD_WORKSPACE_DIR=/opt/builderd/workspace
UNKEY_BUILDERD_CLEANUP_INTERVAL=1h

# Storage Configuration
UNKEY_BUILDERD_STORAGE_BACKEND=local
UNKEY_BUILDERD_STORAGE_RETENTION_DAYS=30
UNKEY_BUILDERD_STORAGE_MAX_SIZE_GB=100
UNKEY_BUILDERD_STORAGE_CACHE_ENABLED=true
UNKEY_BUILDERD_STORAGE_CACHE_MAX_SIZE_GB=50

# Docker Configuration
UNKEY_BUILDERD_DOCKER_REGISTRY_AUTH=true
UNKEY_BUILDERD_DOCKER_MAX_IMAGE_SIZE_GB=5
UNKEY_BUILDERD_DOCKER_ALLOWED_REGISTRIES=
UNKEY_BUILDERD_DOCKER_PULL_TIMEOUT=10m
UNKEY_BUILDERD_DOCKER_REGISTRY_MIRROR=
UNKEY_BUILDERD_DOCKER_INSECURE_REGISTRIES=

# Tenant Management
UNKEY_BUILDERD_TENANT_DEFAULT_TIER=free
UNKEY_BUILDERD_TENANT_ISOLATION_ENABLED=true
UNKEY_BUILDERD_TENANT_QUOTA_CHECK_INTERVAL=5m

# Tenant Resource Limits
UNKEY_BUILDERD_TENANT_DEFAULT_MAX_MEMORY_BYTES=2147483648
UNKEY_BUILDERD_TENANT_DEFAULT_MAX_CPU_CORES=2
UNKEY_BUILDERD_TENANT_DEFAULT_MAX_DISK_BYTES=10737418240
UNKEY_BUILDERD_TENANT_DEFAULT_TIMEOUT_SECONDS=900
UNKEY_BUILDERD_TENANT_DEFAULT_MAX_CONCURRENT_BUILDS=3
UNKEY_BUILDERD_TENANT_DEFAULT_MAX_DAILY_BUILDS=100
UNKEY_BUILDERD_TENANT_DEFAULT_MAX_STORAGE_BYTES=53687091200
UNKEY_BUILDERD_TENANT_DEFAULT_MAX_BUILD_TIME_MINUTES=30

# Database Configuration
UNKEY_BUILDERD_DATABASE_DATA_DIR=/opt/builderd/data
UNKEY_BUILDERD_DATABASE_TYPE=sqlite
UNKEY_BUILDERD_DATABASE_HOST=localhost
UNKEY_BUILDERD_DATABASE_PORT=5432
UNKEY_BUILDERD_DATABASE_NAME=builderd
UNKEY_BUILDERD_DATABASE_USERNAME=builderd
UNKEY_BUILDERD_DATABASE_PASSWORD=
UNKEY_BUILDERD_DATABASE_SSL_MODE=disable

# Asset Manager Integration
UNKEY_BUILDERD_ASSETMANAGER_ENABLED=true
UNKEY_BUILDERD_ASSETMANAGER_ENDPOINT=https://localhost:8083

# TLS Configuration
UNKEY_BUILDERD_TLS_MODE=spiffe
UNKEY_BUILDERD_SPIFFE_SOCKET=/var/lib/spire/agent/agent.sock
UNKEY_BUILDERD_TLS_CERT_FILE=
UNKEY_BUILDERD_TLS_KEY_FILE=
UNKEY_BUILDERD_TLS_CA_FILE=

# OpenTelemetry Configuration
UNKEY_BUILDERD_OTEL_ENABLED=false
UNKEY_BUILDERD_OTEL_SERVICE_NAME=builderd
UNKEY_BUILDERD_OTEL_SERVICE_VERSION=0.1.0
UNKEY_BUILDERD_OTEL_SAMPLING_RATE=1.0
UNKEY_BUILDERD_OTEL_ENDPOINT=localhost:4318
UNKEY_BUILDERD_OTEL_PROMETHEUS_ENABLED=true
UNKEY_BUILDERD_OTEL_PROMETHEUS_PORT=9466
UNKEY_BUILDERD_OTEL_PROMETHEUS_INTERFACE=127.0.0.1
UNKEY_BUILDERD_OTEL_HIGH_CARDINALITY_ENABLED=false