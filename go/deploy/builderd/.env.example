# Builderd Environment Variables
# Copy this file to .env and adjust values as needed

# Service Configuration
UNKEY_BUILDERD_PORT=8082
UNKEY_BUILDERD_ADDRESS=0.0.0.0
UNKEY_BUILDERD_LOG_LEVEL=info

# Docker Configuration
UNKEY_BUILDERD_DOCKER_HOST=unix:///var/run/docker.sock
UNKEY_BUILDERD_DOCKER_VERSION=1.44

# Build Configuration
UNKEY_BUILDERD_MAX_CONCURRENT_BUILDS=5
UNKEY_BUILDERD_BUILD_TIMEOUT=30m
UNKEY_BUILDERD_DEFAULT_REGISTRY=ghcr.io
UNKEY_BUILDERD_CACHE_DIR=/var/lib/builderd/cache

# Resource Limits
UNKEY_BUILDERD_MAX_BUILD_MEMORY=2147483648
UNKEY_BUILDERD_MAX_BUILD_CPU=2.0
UNKEY_BUILDERD_MAX_IMAGE_SIZE=10737418240

# TLS Configuration
UNKEY_BUILDERD_TLS_MODE=spiffe
UNKEY_BUILDERD_SPIFFE_SOCKET=/run/spire/sockets/agent.sock

# OpenTelemetry Configuration
UNKEY_BUILDERD_OTEL_ENABLED=true
UNKEY_BUILDERD_OTEL_SERVICE_NAME=builderd
UNKEY_BUILDERD_OTEL_SERVICE_VERSION=0.1.0
UNKEY_BUILDERD_OTEL_SAMPLING_RATE=1.0
UNKEY_BUILDERD_OTEL_ENDPOINT=localhost:4318
UNKEY_BUILDERD_OTEL_PROMETHEUS_ENABLED=true
UNKEY_BUILDERD_OTEL_PROMETHEUS_PORT=9466