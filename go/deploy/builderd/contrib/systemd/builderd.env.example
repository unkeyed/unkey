# Builderd Multi-Tenant Build Service Configuration
# Copy this file to /etc/default/builderd or /opt/builderd/builderd.env and modify as needed

# Server Configuration
UNKEY_BUILDERD_PORT=8082
UNKEY_BUILDERD_ADDRESS=0.0.0.0

# Build Configuration
UNKEY_BUILDERD_MAX_CONCURRENT_BUILDS=5
UNKEY_BUILDERD_BUILD_TIMEOUT=15m
UNKEY_BUILDERD_SCRATCH_DIR=/opt/builderd/scratch
UNKEY_BUILDERD_ROOTFS_OUTPUT_DIR=/opt/builderd/rootfs
UNKEY_BUILDERD_WORKSPACE_DIR=/opt/builderd/workspace

# Storage Configuration
UNKEY_BUILDERD_STORAGE_BACKEND=local
UNKEY_BUILDERD_STORAGE_RETENTION_DAYS=30

# Database Configuration
UNKEY_BUILDERD_DATABASE_TYPE=sqlite
UNKEY_BUILDERD_DATABASE_DATA_DIR=/opt/builderd/data

# Docker Configuration
UNKEY_BUILDERD_DOCKER_MAX_IMAGE_SIZE_GB=5

# Tenant Isolation
UNKEY_BUILDERD_TENANT_ISOLATION_ENABLED=true

# OpenTelemetry Configuration
# Set to false for development environments
UNKEY_BUILDERD_OTEL_ENABLED=false
UNKEY_BUILDERD_OTEL_SERVICE_NAME=builderd
UNKEY_BUILDERD_OTEL_SERVICE_VERSION=0.0.1
UNKEY_BUILDERD_OTEL_SAMPLING_RATE=1.0
UNKEY_BUILDERD_OTEL_ENDPOINT=localhost:4318
UNKEY_BUILDERD_OTEL_PROMETHEUS_ENABLED=true
UNKEY_BUILDERD_OTEL_HIGH_CARDINALITY_ENABLED=false

# Development/Testing Options
# UNKEY_BUILDERD_LOG_LEVEL=debug
# UNKEY_BUILDERD_OTEL_SAMPLING_RATE=0.1