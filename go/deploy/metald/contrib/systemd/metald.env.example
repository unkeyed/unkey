# Metald Environment Configuration
# Copy this file to /etc/metald/metald.env and customize as needed

# Server Configuration
UNKEY_METALD_BACKEND=firecracker
UNKEY_METALD_PORT=8080
UNKEY_METALD_ADDRESS=0.0.0.0

# Process Manager Configuration (secure directories)
UNKEY_METALD_SOCKET_DIR=/opt/metald/sockets
UNKEY_METALD_LOG_DIR=/opt/metald/logs
UNKEY_METALD_MAX_PROCESSES=1000

# Billing Configuration
UNKEY_METALD_BILLING_ENABLED=true
UNKEY_METALD_BILLING_ENDPOINT=http://localhost:8081
UNKEY_METALD_BILLING_MOCK_MODE=false

# AssetManager Configuration (VM Asset Management)
UNKEY_METALD_ASSETMANAGER_ENABLED=true
UNKEY_METALD_ASSETMANAGER_ENDPOINT=http://localhost:8083
UNKEY_METALD_ASSETMANAGER_CACHE_DIR=/opt/metald/assets

# Cloud Hypervisor Configuration (if using cloudhypervisor backend)
UNKEY_METALD_CH_ENDPOINT=unix:///tmp/ch.sock

# Firecracker Configuration (if using firecracker backend)
UNKEY_METALD_FC_ENDPOINT=unix:///tmp/firecracker.sock

# OpenTelemetry Configuration
UNKEY_METALD_OTEL_ENABLED=true
UNKEY_METALD_OTEL_SERVICE_NAME=metald
UNKEY_METALD_OTEL_SERVICE_VERSION=0.0.1
UNKEY_METALD_OTEL_SAMPLING_RATE=1.0
UNKEY_METALD_OTEL_ENDPOINT=localhost:4318
UNKEY_METALD_OTEL_PROMETHEUS_ENABLED=true
UNKEY_METALD_OTEL_PROMETHEUS_PORT=9464

# Integrated Jailer Configuration (Production Security - Firecracker only)
# Note: Metald now includes an integrated jailer implementation
UNKEY_METALD_JAILER_UID=977
UNKEY_METALD_JAILER_GID=976
UNKEY_METALD_JAILER_CHROOT_DIR=/srv/jailer


# Development Configuration
# Uncomment and modify for development environments
# UNKEY_METALD_OTEL_ENABLED=false
# Note: Integrated jailer is always active for security isolation