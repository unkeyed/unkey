post:
  tags:
    - permissions
  summary: Create a new role with permissions
  description: |-
    Creates a new role in the workspace with optional permission assignments. Roles are collections of permissions that can be assigned to API keys, providing a convenient way to manage access control at scale.
    Roles enable you to group related permissions together for easier management, assign consistent permission sets to multiple API keys, and implement role-based access control patterns that simplify permission management as your system grows. When creating a role, you can optionally assign existing permissions to it immediately, and the role becomes available for assignment to API keys as soon as it's created.
    Use roles to establish standardized access patterns in your application, making it easier to maintain consistent security policies across many API keys while reducing the complexity of individual permission management.
  operationId: createRole
  x-speakeasy-name-override: CreateRole
  security:
    - rootKey: []
  requestBody:
    content:
      application/json:
        schema:
          "$ref": "./V2PermissionsCreateRoleRequestBody.yaml"
        examples:
          basic:
            summary: Basic role creation
            value:
              name: content.editor
              description: Can read and write content
          withoutDescription:
            summary: Role without description
            value:
              name: api.reader
    required: true
  responses:
    "200":
      content:
        application/json:
          schema:
            "$ref": "./V2PermissionsCreateRoleResponseBody.yaml"
      description: Successfully created role
    "400":
      description: Bad Request
      content:
        application/json:
          schema:
            "$ref": "../../../../error/BadRequestErrorResponse.yaml"
    "401":
      description: Unauthorized
      content:
        application/json:
          schema:
            "$ref": "../../../../error/UnauthorizedErrorResponse.yaml"
    "403":
      description: Forbidden
      content:
        application/json:
          schema:
            "$ref": "../../../../error/ForbiddenErrorResponse.yaml"
    "409":
      description: Conflict - A role with this name already exists
      content:
        application/json:
          schema:
            "$ref": "../../../../error/ConflictErrorResponse.yaml"
    "500":
      description: Internal Server Error
      content:
        application/json:
          schema:
            "$ref": "../../../../error/InternalServerErrorResponse.yaml"
