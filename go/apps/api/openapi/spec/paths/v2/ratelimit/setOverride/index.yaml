post:
  tags:
    - ratelimit
  summary: Create or update a custom rate limit for specific identifiers
  description: |-
    Creates a new or updates an existing rate limit override for specific identifiers within a namespace.
    Overrides allow you to implement special rate limiting rules that differ from the default limits. This is essential for:
    - Creating tiered rate limits for different customer segments
    - Implementing premium tiers with higher limits
    - Applying stricter limits to suspicious or abusive users
    - Setting emergency limits during system stress
    - Creating customized rate limiting policies
    When an override exists, it completely replaces the default rate limit for matching identifiers. The override takes effect immediately and will be applied to the very next rate limit check that matches the identifier pattern.
    Wildcard patterns can be used to create powerful matching rules that apply to groups of identifiers without having to create individual overrides for each one.
  operationId: ratelimit.setOverride
  x-speakeasy-name-override: setOverride
  security:
    - rootKey: []
  requestBody:
    content:
      application/json:
        schema:
          "$ref": "./V2RatelimitSetOverrideRequestBody.yaml"
        examples:
          premium:
            summary: Higher limit for premium user
            value:
              namespaceName: api.requests
              identifier: premium_user_123
              limit: 1000
              duration: 60000
          wildcardPattern:
            summary: Pattern matching with wildcard
            value:
              namespaceId: ns_1234567890abcdef
              identifier: premium_*
              limit: 500
              duration: 60000
          blockAbusive:
            summary: Block abusive user
            value:
              namespaceName: api.requests
              identifier: abusive_user_456
              limit: 0
              duration: 3600000
    required: true
  responses:
    "200":
      content:
        application/json:
          schema:
            "$ref": "./V2RatelimitSetOverrideResponseBody.yaml"
      description: Identity successfully deleted. The operation has permanently
        removed the identity from your workspace. Any API keys previously associated
        with this identity remain functional but no longer share resources through
        this identity. The externalId can now be reused for a new identity if
        needed.
    "400":
      description: Bad request
      content:
        application/json:
          schema:
            "$ref": "../../../../error/BadRequestErrorResponse.yaml"
    "401":
      description: Unauthorized
      content:
        application/json:
          schema:
            "$ref": "../../../../error/UnauthorizedErrorResponse.yaml"
    "403":
      description: Forbidden
      content:
        application/json:
          schema:
            "$ref": "../../../../error/ForbiddenErrorResponse.yaml"
    "404":
      description: Not Found
      content:
        application/json:
          schema:
            "$ref": "../../../../error/NotFoundErrorResponse.yaml"
    "500":
      description: Internal Server Error
      content:
        application/json:
          schema:
            "$ref": "../../../../error/InternalServerErrorResponse.yaml"
