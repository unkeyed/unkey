post:
  tags:
    - apis
  summary: Delete an API and invalidate all its associated keys
  description: |-
    Permanently deletes an API namespace and invalidates all keys associated with it.

    WARNING: This is a destructive operation with significant consequences:
    - All keys associated with this API will be invalidated immediately
    - Verification attempts for these keys will fail with `code=NOT_FOUND`
    - Historical analytics data for the API and its keys will be preserved
    - This action cannot be undone

    Common reasons to delete an API include:
    - Removing test or development environments no longer needed
    - Retiring deprecated services or products
    - Cleaning up unused resources
    - Implementing security isolation after compromise

    Before deletion, ensure that:
    - You have the correct API ID (check the environment/service)
    - You have migrated any needed keys to a new API
    - You have updated all client applications to use new keys
    - You have backed up any important metadata or analytics
  operationId: deleteApi
  x-speakeasy-name-override: deleteApi
  security:
    - rootKey: []
  requestBody:
    content:
      application/json:
        schema:
          "$ref": "./V2ApisDeleteApiRequestBody.yaml"
        examples:
          basic:
            summary: Delete an API
            value:
              apiId: api_VNcuGfVjUkrVcWJmda0A
    required: true
  responses:
    "200":
      content:
        application/json:
          schema:
            "$ref": "./V2ApisDeleteApiResponseBody.yaml"
          examples:
            success:
              summary: Successful deletion
              value:
                meta:
                  requestId: req_01H9TQPP77V5E48E9SH0BG0ZQX
      description: API successfully deleted. All keys associated with this API
        have been invalidated and will no longer work for verification. The API
        ID can no longer be used for any operations, and new keys cannot be created
        with this API ID. This operation is immediate and cannot be undone.
    "400":
      description: Bad request
      content:
        application/json:
          schema:
            $ref: "../../../../error/BadRequestErrorResponse.yaml"
    "401":
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: "../../../../error/UnauthorizedErrorResponse.yaml"
    "403":
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: "../../../../error/ForbiddenErrorResponse.yaml"
    "404":
      description: Not Found
      content:
        application/json:
          schema:
            $ref: "../../../../error/NotFoundErrorResponse.yaml"
    "412":
      description: The API has api protection enabled, please disable it before deleting the API.
      content:
        application/json:
          schema:
            $ref: "../../../../error/PreconditionFailedErrorResponse.yaml"
    "500":
      description: Internal server error
      content:
        application/json:
          schema:
            $ref: "../../../../error/InternalServerErrorResponse.yaml"
