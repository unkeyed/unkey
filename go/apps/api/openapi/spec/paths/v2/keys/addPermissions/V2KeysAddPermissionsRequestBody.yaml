type: object
required:
  - keyId
  - permissions
properties:
  keyId:
    type: string
    minLength: 3
    maxLength: 255 # Reasonable upper bound for database identifiers
    pattern: "^[a-zA-Z0-9_]+$"
    description: |
      Specifies which key receives the additional permissions using the database identifier returned from `keys.createKey`.
      Do not confuse this with the actual API key string that users include in requests.
    example: key_2cGKbMxRyIzhCxo1Idjz8q
  permissions:
    type: array
    minItems: 1
    maxItems: 1000
    description: |
      Grants additional permissions to the key through direct assignment or automatic creation.
      Duplicate permissions are ignored automatically, making this operation idempotent.

      You can either use a permission slug, or the permission ID.

      If slugs are used, the permission will be auto created IF the root key has the given permissions, otherwise this operation will fail with a 404 error.
      Adding permissions never removes existing permissions or role-based permissions.
    items:
      type: string
      minLength: 1
      maxLength: 100
      pattern: "^[a-zA-Z][a-zA-Z0-9._-]*$"
additionalProperties: false
