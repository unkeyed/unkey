post:
  tags:
    - identities
  summary: Create a new identity for resource sharing across keys
  description: |-
    Creates a new identity that can be associated with multiple API keys to enable resource sharing.
    Identities are a powerful concept in Unkey that allow multiple API keys to share resources like rate limits and to be associated with the same entity (user, organization, etc.). This is essential for:
    - Implementing consistent rate limiting across multiple API keys
    - Associating multiple keys with the same user or organization
    - Sharing metadata across all keys for an entity
    - Enabling user-based analytics across multiple keys
    - Simplifying key management for multi-device or multi-service users
    When you create keys with the same externalId, they'll share rate limits and appear grouped in analytics. This enables scenarios like letting users generate multiple API keys for different devices while still treating them as a single entity for usage limits.
    The identity concept creates a separation between your user entities and their authentication credentials (API keys), similar to how users can have multiple passwords or sessions.
  operationId: identities.createIdentity
  x-speakeasy-name-override: createIdentity
  security:
    - rootKey: []
  requestBody:
    $ref: "./request.yaml#/Request"
  responses:
    "200":
      $ref: "./response.yaml#/Response"
    "400":
      $ref: "../../../../error/badRequestErrorResponse.yaml"
    "401":
      $ref: "../../../../error/unauthorizedErrorResponse.yaml"
    "403":
      $ref: "../../../../error/forbiddenErrorResponse.yaml"
    "409":
      $ref: "../../../../error/conflictErrorResponse.yaml"
    "500":
      $ref: "../../../../error/internalServerErrorResponse.yaml"