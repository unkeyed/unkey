post:
  tags:
    - identities
  summary: Delete an existing identity
  description: |-
    Permanently removes an identity from your workspace. This operation cannot be undone.
    Deleting an identity has several important effects:
    - All metadata associated with the identity is permanently removed
    - Any rate limit history for this identity is cleared
    - The identity's externalId becomes available for reuse
    - Keys remain functional but lose their identity association
    Important notes:
    - This operation does NOT delete or disable any API keys associated with this identity
    - After deletion, keys previously linked to this identity will function independently
    - Rate limits that were shared across keys via this identity will no longer be shared
    - The externalId can be reused immediately after deletion
    Use this endpoint for compliance with data deletion requirements, cleaning up test data, or when an entity (user, organization) is permanently removed from your system.
  operationId: v2.identities.deleteIdentity
  x-speakeasy-name-override: deleteIdentity
  security:
    - rootKey: []
  requestBody:
    content:
      application/json:
        schema:
          "$ref": "./V2IdentitiesDeleteIdentityRequestBody.yaml"
        examples:
          byExternalId:
            summary: Delete by external ID
            description: Deleting using your system's identifier
            value:
              externalId: user_abc123
    required: true
  responses:
    "200":
      content:
        application/json:
          schema:
            "$ref": "./V2IdentitiesDeleteIdentityResponseBody.yaml"
          examples:
            success:
              summary: Successful deletion
              value:
                meta:
                  requestId: req_01H9TQPP77V5E48E9SH0BG0ZQX
      description: OK
    "400":
      description: Bad request
      content:
        application/problem+json:
          schema:
            $ref: "../../../../error/BadRequestErrorResponse.yaml"
    "401":
      description: Unauthorized
      content:
        application/problem+json:
          schema:
            "$ref": "../../../../error/UnauthorizedErrorResponse.yaml"
    "403":
      description: Forbidden
      content:
        application/problem+json:
          schema:
            "$ref": "../../../../error/ForbiddenErrorResponse.yaml"
    "404":
      description: Not found
      content:
        application/problem+json:
          schema:
            "$ref": "../../../../error/NotFoundErrorResponse.yaml"
    "500":
      content:
        application/problem+json:
          schema:
            "$ref": "../../../../error/InternalServerErrorResponse.yaml"
      description: Error
