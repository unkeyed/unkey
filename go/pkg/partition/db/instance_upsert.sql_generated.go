// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: instance_upsert.sql

package db

import (
	"context"
)

const upsertInstance = `-- name: UpsertInstance :exec
INSERT INTO instance (id, deployment_id, status, config)
VALUES (?, ?, ?, ?)
ON DUPLICATE KEY UPDATE
  deployment_id = VALUES(deployment_id),
  status = VALUES(status),
  config = VALUES(config)
`

type UpsertInstanceParams struct {
	ID           string         `db:"id"`
	DeploymentID string         `db:"deployment_id"`
	Status       InstanceStatus `db:"status"`
	Config       []byte         `db:"config"`
}

// UpsertInstance
//
//	INSERT INTO instance (id, deployment_id, status, config)
//	VALUES (?, ?, ?, ?)
//	ON DUPLICATE KEY UPDATE
//	  deployment_id = VALUES(deployment_id),
//	  status = VALUES(status),
//	  config = VALUES(config)
func (q *Queries) UpsertInstance(ctx context.Context, db DBTX, arg UpsertInstanceParams) error {
	_, err := db.ExecContext(ctx, upsertInstance,
		arg.ID,
		arg.DeploymentID,
		arg.Status,
		arg.Config,
	)
	return err
}
