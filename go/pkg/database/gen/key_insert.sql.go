// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: key_insert.sql

package gen

import (
	"context"
	"database/sql"
	"time"
)

const insertKey = `-- name: InsertKey :exec
INSERT INTO ` + "`" + `keys` + "`" + ` (
    id,
    key_auth_id,
    hash,
    start,
    workspace_id,
    for_workspace_id,
    name,
    owner_id,
    identity_id,
    meta,
    created_at,
    expires,
    created_at_m,
    enabled,
    remaining_requests,
    ratelimit_async,
    ratelimit_limit,
    ratelimit_duration,
    environment
) VALUES (
    ?,
    ?,
    ?,
    ?,
    ?,
    ?,
    ?,
    null,
    ?,
    ?,
    ?,
    ?,
    UNIX_TIMESTAMP() * 1000,
    ?,
    ?,
    ?,
    ?,
    ?,
    ?
)
`

type InsertKeyParams struct {
	ID                string         `db:"id"`
	KeyringID         string         `db:"keyring_id"`
	Hash              string         `db:"hash"`
	Start             string         `db:"start"`
	WorkspaceID       string         `db:"workspace_id"`
	ForWorkspaceID    sql.NullString `db:"for_workspace_id"`
	Name              sql.NullString `db:"name"`
	IdentityID        sql.NullString `db:"identity_id"`
	Meta              sql.NullString `db:"meta"`
	CreatedAt         time.Time      `db:"created_at"`
	Expires           sql.NullTime   `db:"expires"`
	Enabled           bool           `db:"enabled"`
	RemainingRequests sql.NullInt32  `db:"remaining_requests"`
	RatelimitAsync    sql.NullBool   `db:"ratelimit_async"`
	RatelimitLimit    sql.NullInt32  `db:"ratelimit_limit"`
	RatelimitDuration sql.NullInt64  `db:"ratelimit_duration"`
	Environment       sql.NullString `db:"environment"`
}

// InsertKey
//
//	INSERT INTO `keys` (
//	    id,
//	    key_auth_id,
//	    hash,
//	    start,
//	    workspace_id,
//	    for_workspace_id,
//	    name,
//	    owner_id,
//	    identity_id,
//	    meta,
//	    created_at,
//	    expires,
//	    created_at_m,
//	    enabled,
//	    remaining_requests,
//	    ratelimit_async,
//	    ratelimit_limit,
//	    ratelimit_duration,
//	    environment
//	) VALUES (
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    null,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    UNIX_TIMESTAMP() * 1000,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?
//	)
func (q *Queries) InsertKey(ctx context.Context, arg InsertKeyParams) error {
	_, err := q.db.ExecContext(ctx, insertKey,
		arg.ID,
		arg.KeyringID,
		arg.Hash,
		arg.Start,
		arg.WorkspaceID,
		arg.ForWorkspaceID,
		arg.Name,
		arg.IdentityID,
		arg.Meta,
		arg.CreatedAt,
		arg.Expires,
		arg.Enabled,
		arg.RemainingRequests,
		arg.RatelimitAsync,
		arg.RatelimitLimit,
		arg.RatelimitDuration,
		arg.Environment,
	)
	return err
}
