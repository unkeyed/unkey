// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: set.sql

package mysql

import (
	"context"
	"database/sql"
)

const set = `-- name: Set :exec
INSERT INTO kv (` + "`" + `key` + "`" + `, workspace_id, value, ttl, created_at)
VALUES (?, ?, ?, ?, ?)
ON DUPLICATE KEY UPDATE
    value = VALUES(value),
    ttl = VALUES(ttl),
    created_at = VALUES(created_at)
`

type SetParams struct {
	Key         string
	WorkspaceID string
	Value       []byte
	Ttl         sql.NullInt64
	CreatedAt   int64
}

func (q *Queries) Set(ctx context.Context, arg SetParams) error {
	_, err := q.db.ExecContext(ctx, set,
		arg.Key,
		arg.WorkspaceID,
		arg.Value,
		arg.Ttl,
		arg.CreatedAt,
	)
	return err
}
