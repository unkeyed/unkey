// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: delete_expired.sql

package mysql

import (
	"context"
	"database/sql"
)

const deleteExpired = `-- name: DeleteExpired :exec
DELETE FROM kv WHERE ` + "`" + `key` + "`" + ` = ? AND ttl IS NOT NULL AND ttl <= ?
`

type DeleteExpiredParams struct {
	Key string
	Ttl sql.NullInt64
}

func (q *Queries) DeleteExpired(ctx context.Context, arg DeleteExpiredParams) error {
	_, err := q.db.ExecContext(ctx, deleteExpired, arg.Key, arg.Ttl)
	return err
}
