// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: sentinel_find_by_id.sql

package db

import (
	"context"
	"database/sql"
)

const findSentinelByID = `-- name: FindSentinelByID :one
SELECT s.id, s.workspace_id, s.project_id, s.environment_id, s.k8s_crd_name, s.k8s_service_name, s.region, s.image, s.desired_state, s.health, s.desired_replicas, s.replicas, s.cpu_millicores, s.memory_mib, s.created_at, s.updated_at, w.k8s_namespace FROM sentinels s
INNER JOIN ` + "`" + `workspaces` + "`" + ` w ON s.workspace_id = w.id
WHERE s.id = ? LIMIT 1
`

type FindSentinelByIDRow struct {
	ID              string                `db:"id"`
	WorkspaceID     string                `db:"workspace_id"`
	ProjectID       string                `db:"project_id"`
	EnvironmentID   string                `db:"environment_id"`
	K8sCrdName      string                `db:"k8s_crd_name"`
	K8sServiceName  string                `db:"k8s_service_name"`
	Region          string                `db:"region"`
	Image           string                `db:"image"`
	DesiredState    SentinelsDesiredState `db:"desired_state"`
	Health          SentinelsHealth       `db:"health"`
	DesiredReplicas int32                 `db:"desired_replicas"`
	Replicas        int32                 `db:"replicas"`
	CpuMillicores   int32                 `db:"cpu_millicores"`
	MemoryMib       int32                 `db:"memory_mib"`
	CreatedAt       int64                 `db:"created_at"`
	UpdatedAt       sql.NullInt64         `db:"updated_at"`
	K8sNamespace    sql.NullString        `db:"k8s_namespace"`
}

// FindSentinelByID
//
//	SELECT s.id, s.workspace_id, s.project_id, s.environment_id, s.k8s_crd_name, s.k8s_service_name, s.region, s.image, s.desired_state, s.health, s.desired_replicas, s.replicas, s.cpu_millicores, s.memory_mib, s.created_at, s.updated_at, w.k8s_namespace FROM sentinels s
//	INNER JOIN `workspaces` w ON s.workspace_id = w.id
//	WHERE s.id = ? LIMIT 1
func (q *Queries) FindSentinelByID(ctx context.Context, db DBTX, id string) (FindSentinelByIDRow, error) {
	row := db.QueryRowContext(ctx, findSentinelByID, id)
	var i FindSentinelByIDRow
	err := row.Scan(
		&i.ID,
		&i.WorkspaceID,
		&i.ProjectID,
		&i.EnvironmentID,
		&i.K8sCrdName,
		&i.K8sServiceName,
		&i.Region,
		&i.Image,
		&i.DesiredState,
		&i.Health,
		&i.DesiredReplicas,
		&i.Replicas,
		&i.CpuMillicores,
		&i.MemoryMib,
		&i.CreatedAt,
		&i.UpdatedAt,
		&i.K8sNamespace,
	)
	return i, err
}
