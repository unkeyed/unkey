// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: identity_update.sql

package db

import (
	"context"
	"encoding/json"
)

const updateIdentity = `-- name: UpdateIdentity :exec
UPDATE ` + "`" + `identities` + "`" + `
SET
    meta = CAST(? AS JSON),
    updated_at = NOW()
WHERE
    id = ?
`

type UpdateIdentityParams struct {
	Meta json.RawMessage `db:"meta"`
	ID   string          `db:"id"`
}

// UpdateIdentity
//
//	UPDATE `identities`
//	SET
//	    meta = CAST(? AS JSON),
//	    updated_at = NOW()
//	WHERE
//	    id = ?
func (q *Queries) UpdateIdentity(ctx context.Context, db DBTX, arg UpdateIdentityParams) error {
	_, err := db.ExecContext(ctx, updateIdentity, arg.Meta, arg.ID)
	return err
}
