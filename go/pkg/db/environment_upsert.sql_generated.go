// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: environment_upsert.sql

package db

import (
	"context"
)

const upsertEnvironment = `-- name: UpsertEnvironment :exec
INSERT INTO environments (
    id,
    workspace_id,
    project_id,
    slug,
    gateway_config,
    created_at
) VALUES (?, ?, ?, ?, ?, ?)
ON DUPLICATE KEY UPDATE slug = VALUES(slug)
`

type UpsertEnvironmentParams struct {
	ID            string `db:"id"`
	WorkspaceID   string `db:"workspace_id"`
	ProjectID     string `db:"project_id"`
	Slug          string `db:"slug"`
	GatewayConfig []byte `db:"gateway_config"`
	CreatedAt     int64  `db:"created_at"`
}

// UpsertEnvironment
//
//	INSERT INTO environments (
//	    id,
//	    workspace_id,
//	    project_id,
//	    slug,
//	    gateway_config,
//	    created_at
//	) VALUES (?, ?, ?, ?, ?, ?)
//	ON DUPLICATE KEY UPDATE slug = VALUES(slug)
func (q *Queries) UpsertEnvironment(ctx context.Context, db DBTX, arg UpsertEnvironmentParams) error {
	_, err := db.ExecContext(ctx, upsertEnvironment,
		arg.ID,
		arg.WorkspaceID,
		arg.ProjectID,
		arg.Slug,
		arg.GatewayConfig,
		arg.CreatedAt,
	)
	return err
}
