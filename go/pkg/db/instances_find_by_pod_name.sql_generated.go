// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: instances_find_by_pod_name.sql

package db

import (
	"context"
)

const findInstanceByPodName = `-- name: FindInstanceByPodName :one
SELECT
 id, deployment_id, workspace_id, project_id, region, cluster_id, k8s_name, address, cpu_millicores, memory_mib, status
FROM instances
  WHERE k8s_name = ? AND cluster_id = ? AND region = ?
`

type FindInstanceByPodNameParams struct {
	K8sName   string `db:"k8s_name"`
	ClusterID string `db:"cluster_id"`
	Region    string `db:"region"`
}

// FindInstanceByPodName
//
//	SELECT
//	 id, deployment_id, workspace_id, project_id, region, cluster_id, k8s_name, address, cpu_millicores, memory_mib, status
//	FROM instances
//	  WHERE k8s_name = ? AND cluster_id = ? AND region = ?
func (q *Queries) FindInstanceByPodName(ctx context.Context, db DBTX, arg FindInstanceByPodNameParams) (Instance, error) {
	row := db.QueryRowContext(ctx, findInstanceByPodName, arg.K8sName, arg.ClusterID, arg.Region)
	var i Instance
	err := row.Scan(
		&i.ID,
		&i.DeploymentID,
		&i.WorkspaceID,
		&i.ProjectID,
		&i.Region,
		&i.ClusterID,
		&i.K8sName,
		&i.Address,
		&i.CpuMillicores,
		&i.MemoryMib,
		&i.Status,
	)
	return i, err
}
