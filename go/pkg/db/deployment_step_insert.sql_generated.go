// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.29.0
// source: deployment_step_insert.sql

package db

import (
	"context"
)

const insertDeploymentStep = `-- name: InsertDeploymentStep :exec
INSERT INTO deployment_steps (
    workspace_id,
    project_id,
    deployment_id,
    status,
    message,
    created_at
) VALUES (
    ?, ?, ?, ?, ?, ?
)
ON DUPLICATE KEY UPDATE
    message = VALUES(message),
    created_at = VALUES(created_at)
`

type InsertDeploymentStepParams struct {
	WorkspaceID  string                `db:"workspace_id"`
	ProjectID    string                `db:"project_id"`
	DeploymentID string                `db:"deployment_id"`
	Status       DeploymentStepsStatus `db:"status"`
	Message      string                `db:"message"`
	CreatedAt    int64                 `db:"created_at"`
}

// InsertDeploymentStep
//
//	INSERT INTO deployment_steps (
//	    workspace_id,
//	    project_id,
//	    deployment_id,
//	    status,
//	    message,
//	    created_at
//	) VALUES (
//	    ?, ?, ?, ?, ?, ?
//	)
//	ON DUPLICATE KEY UPDATE
//	    message = VALUES(message),
//	    created_at = VALUES(created_at)
func (q *Queries) InsertDeploymentStep(ctx context.Context, db DBTX, arg InsertDeploymentStepParams) error {
	_, err := db.ExecContext(ctx, insertDeploymentStep,
		arg.WorkspaceID,
		arg.ProjectID,
		arg.DeploymentID,
		arg.Status,
		arg.Message,
		arg.CreatedAt,
	)
	return err
}
