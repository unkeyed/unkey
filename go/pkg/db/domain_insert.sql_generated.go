// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: domain_insert.sql

package db

import (
	"context"
	"database/sql"
	"encoding/json"
)

const insertDomain = `-- name: InsertDomain :exec
INSERT INTO domains (
    id,
    workspace_id,
    project_id,
    domain,
    type,
    subdomain_config,
    created_at
) VALUES (
    ?,
    ?,
    ?,
    ?,
    ?,
    CAST(? AS JSON),
    ?
) ON DUPLICATE KEY UPDATE
    workspace_id = VALUES(workspace_id),
    project_id = VALUES(project_id),
    type = VALUES(type),
    subdomain_config = VALUES(subdomain_config),
    updated_at = ?
`

type InsertDomainParams struct {
	ID              string          `db:"id"`
	WorkspaceID     string          `db:"workspace_id"`
	ProjectID       string          `db:"project_id"`
	Domain          string          `db:"domain"`
	Type            DomainsType     `db:"type"`
	SubdomainConfig json.RawMessage `db:"subdomain_config"`
	CreatedAt       int64           `db:"created_at"`
	UpdatedAt       sql.NullInt64   `db:"updated_at"`
}

// InsertDomain
//
//	INSERT INTO domains (
//	    id,
//	    workspace_id,
//	    project_id,
//	    domain,
//	    type,
//	    subdomain_config,
//	    created_at
//	) VALUES (
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    ?,
//	    CAST(? AS JSON),
//	    ?
//	) ON DUPLICATE KEY UPDATE
//	    workspace_id = VALUES(workspace_id),
//	    project_id = VALUES(project_id),
//	    type = VALUES(type),
//	    subdomain_config = VALUES(subdomain_config),
//	    updated_at = ?
func (q *Queries) InsertDomain(ctx context.Context, db DBTX, arg InsertDomainParams) error {
	_, err := db.ExecContext(ctx, insertDomain,
		arg.ID,
		arg.WorkspaceID,
		arg.ProjectID,
		arg.Domain,
		arg.Type,
		arg.SubdomainConfig,
		arg.CreatedAt,
		arg.UpdatedAt,
	)
	return err
}
