load("@rules_go//go:def.bzl", "go_library")

go_library(
    name = "routes",
    srcs = [
        "register.go",
        "services.go",
    ],
    importpath = "github.com/unkeyed/unkey/svc/api/routes",
    visibility = ["//visibility:public"],
    deps = [
        "//internal/services/analytics",
        "//internal/services/auditlogs",
        "//internal/services/caches",
        "//internal/services/keys",
        "//internal/services/ratelimit",
        "//internal/services/usagelimiter",
        "//pkg/clickhouse",
        "//pkg/db",
        "//pkg/otel/logging",
        "//pkg/vault",
        "//pkg/zen",
        "//pkg/zen/validation",
        "//svc/api/internal/middleware",
        "//svc/api/routes/chproxy_metrics",
        "//svc/api/routes/chproxy_ratelimits",
        "//svc/api/routes/chproxy_verifications",
        "//svc/api/routes/openapi",
        "//svc/api/routes/pprof",
        "//svc/api/routes/reference",
        "//svc/api/routes/v2_analytics_get_verifications",
        "//svc/api/routes/v2_apis_create_api",
        "//svc/api/routes/v2_apis_delete_api",
        "//svc/api/routes/v2_apis_get_api",
        "//svc/api/routes/v2_apis_list_keys",
        "//svc/api/routes/v2_identities_create_identity",
        "//svc/api/routes/v2_identities_delete_identity",
        "//svc/api/routes/v2_identities_get_identity",
        "//svc/api/routes/v2_identities_list_identities",
        "//svc/api/routes/v2_identities_update_identity",
        "//svc/api/routes/v2_keys_add_permissions",
        "//svc/api/routes/v2_keys_add_roles",
        "//svc/api/routes/v2_keys_create_key",
        "//svc/api/routes/v2_keys_delete_key",
        "//svc/api/routes/v2_keys_get_key",
        "//svc/api/routes/v2_keys_migrate_keys",
        "//svc/api/routes/v2_keys_remove_permissions",
        "//svc/api/routes/v2_keys_remove_roles",
        "//svc/api/routes/v2_keys_reroll_key",
        "//svc/api/routes/v2_keys_set_permissions",
        "//svc/api/routes/v2_keys_set_roles",
        "//svc/api/routes/v2_keys_update_credits",
        "//svc/api/routes/v2_keys_update_key",
        "//svc/api/routes/v2_keys_verify_key",
        "//svc/api/routes/v2_keys_whoami",
        "//svc/api/routes/v2_liveness",
        "//svc/api/routes/v2_permissions_create_permission",
        "//svc/api/routes/v2_permissions_create_role",
        "//svc/api/routes/v2_permissions_delete_permission",
        "//svc/api/routes/v2_permissions_delete_role",
        "//svc/api/routes/v2_permissions_get_permission",
        "//svc/api/routes/v2_permissions_get_role",
        "//svc/api/routes/v2_permissions_list_permissions",
        "//svc/api/routes/v2_permissions_list_roles",
        "//svc/api/routes/v2_ratelimit_delete_override",
        "//svc/api/routes/v2_ratelimit_get_override",
        "//svc/api/routes/v2_ratelimit_limit",
        "//svc/api/routes/v2_ratelimit_list_overrides",
        "//svc/api/routes/v2_ratelimit_multi_limit",
        "//svc/api/routes/v2_ratelimit_set_override",
    ],
)
