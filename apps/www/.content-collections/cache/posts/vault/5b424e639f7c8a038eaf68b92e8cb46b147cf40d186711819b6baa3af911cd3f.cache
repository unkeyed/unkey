"var Component=(()=>{var y=Object.create;var i=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var g=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),f=(r,e)=>{for(var t in e)i(r,t,{get:e[t],enumerable:!0})},a=(r,e,t,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of p(e))!m.call(r,o)&&o!==t&&i(r,o,{get:()=>e[o],enumerable:!(s=u(e,o))||s.enumerable});return r};var v=(r,e,t)=>(t=r!=null?y(k(r)):{},a(e||!r||!r.__esModule?i(t,\"default\",{value:r,enumerable:!0}):t,r)),w=r=>a(i({},\"__esModule\",{value:!0}),r);var d=g((_,c)=>{c.exports=_jsx_runtime});var b={};f(b,{default:()=>l});var n=v(d());function h(r){let e={a:\"a\",code:\"code\",em:\"em\",h2:\"h2\",li:\"li\",ol:\"ol\",p:\"p\",pre:\"pre\",strong:\"strong\",ul:\"ul\",...r.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.em,{children:\"The most requested feature for Unkey has finally arrived.\"})}),`\n`,(0,n.jsx)(e.p,{children:\"Until now we only stored a one way hash of the key, enough to verify it, but nobody was able to show the original key again. Recovering the key, meaning showing the key after it was created, was not possible.\"}),`\n`,(0,n.jsx)(e.p,{children:\"There are good reasons against making keys recoverable, the leading one being security. If an attacker gains access to database, they can see the hashes, but not the keys. But there are also good reasons for making keys recoverable:\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"API playgrounds/documentation that use real keys for demo purposes\"}),`\n`,(0,n.jsx)(e.li,{children:\"Better DX for your users, it's annoying to create a new key and update it everywhere\"}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"introducing-vault\",children:\"Introducing Vault\"}),`\n`,(0,n.jsx)(e.p,{children:\"We were hesitant to allow key recovery, but we've found a way to do it securely, and in combination with our permissioning system to limit the capabilities of keys, we're happy to roll it out for everyone.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Vault is our secure service for encrypting and decrypting secrets. We'll do an engineering deep dive on it soon, but for now, let's focus on how you can use it.\"}),`\n`,(0,n.jsx)(e.h2,{id:\"recovering-keys\",children:\"Recovering keys\"}),`\n`,(0,n.jsx)(e.p,{children:\"If encryption is enabled for your API, you can now recover keys like so:\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Both the \",(0,n.jsx)(e.a,{href:\"/docs/api-reference/keys/get\",children:\"getKey\"}),\" and \",(0,n.jsx)(e.a,{href:\"/docs/api-reference/apis/list-keys\",children:\"listKeys\"}),\" endpoints accept a \",(0,n.jsx)(e.code,{children:\"decrypt\"}),\" query parameter. If you set this to \",(0,n.jsx)(e.code,{children:\"true\"}),\", the key will be decrypted and returned in the response as \",(0,n.jsx)(e.code,{children:\"plaintext\"}),\".\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"When recovering keys, your root key must have permission to decrypt. Head over to the \",(0,n.jsx)(e.a,{href:\"https://app.unkey.com/settings/root-keys\",children:\"dashboard\"}),\" and make sure the \",(0,n.jsx)(e.code,{children:\"decrypt_key\"}),\" permission is enabled.\"]}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-shell\",children:`curl --request GET \\\\\n  --url https://api.unkey.dev/v1/keys.getKey?keyId={KEY_ID}&decrypt=true \\\\\n  --header 'Authorization: Bearer {ROOT_KEY}'\n\n{\n  \"ownerId\": \"ACME\",\n  \"plaintext\": \"your-key-here\",\n  // ...\n}\n`})}),`\n`,(0,n.jsx)(e.p,{children:\"This is also possible in our SDKs, but omitted here for brevity.\"}),`\n`,(0,n.jsx)(e.h2,{id:\"opt-in\",children:\"Opt in\"}),`\n`,(0,n.jsx)(e.p,{children:\"We require you to opt in to key recovery. To opt in, follow these steps:\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Root key permissions:\"}),(0,n.jsx)(\"br\",{}),`\nWhen creating new keys, your root key must have permission to encrypt. Head over to the dashboard and make sure the encrypt_key permission is enabled.\nDo not skip this step. Otherwise your root key will get rejected when trying to create new keys.`]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Contact us:\"}),(0,n.jsx)(\"br\",{}),`\nTo opt in to recovery, send us an email at `,(0,n.jsx)(e.a,{href:\"mailto:support@unkey.dev\",children:\"support@unkey.dev\"}),\". Send us the email from the email address associated with your workspace and include the API ID that you want to enable recovery for.\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h2,{id:\"documentation\",children:\"Documentation\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"You can find the documentation \",(0,n.jsx)(e.a,{href:\"https://www.unkey.com/docs/security/recovering-keys\",children:\"here\"}),\".\"]}),`\n`,(0,n.jsx)(e.h2,{id:\"support\",children:\"Support\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"If you have any questions about recovery, please reach out to us on \",(0,n.jsx)(e.a,{href:\"https://unkey.com/discord\",children:\"Discord\"}),\" or at \",(0,n.jsx)(e.a,{href:\"mailto:support@unkey.dev\",children:\"support@unkey.dev\"}),\".\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"For security concerns, please disclose them responsibly by emailing \",(0,n.jsx)(e.a,{href:\"mailto:security@unkey.dev\",children:\"security@unkey.dev\"}),\" instead.\"]})]})}function l(r={}){let{wrapper:e}=r.components||{};return e?(0,n.jsx)(e,{...r,children:(0,n.jsx)(h,{...r})}):h(r)}return w(b);})();\n;return Component;"