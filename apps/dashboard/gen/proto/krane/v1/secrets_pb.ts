// @generated by protoc-gen-es v2.8.0 with parameter "target=ts"
// @generated from file krane/v1/secrets.proto (package krane.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv2";
import { fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file krane/v1/secrets.proto.
 */
export const file_krane_v1_secrets: GenFile = /*@__PURE__*/
  fileDesc("ChZrcmFuZS92MS9zZWNyZXRzLnByb3RvEghrcmFuZS52MSJxChlEZWNyeXB0U2VjcmV0c0Jsb2JSZXF1ZXN0EhYKDmVuY3J5cHRlZF9ibG9iGAEgASgMEhYKDmVudmlyb25tZW50X2lkGAIgASgJEg0KBXRva2VuGAMgASgJEhUKDWRlcGxveW1lbnRfaWQYBCABKAkikQEKGkRlY3J5cHRTZWNyZXRzQmxvYlJlc3BvbnNlEkMKCGVudl92YXJzGAEgAygLMjEua3JhbmUudjEuRGVjcnlwdFNlY3JldHNCbG9iUmVzcG9uc2UuRW52VmFyc0VudHJ5Gi4KDEVudlZhcnNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBMnEKDlNlY3JldHNTZXJ2aWNlEl8KEkRlY3J5cHRTZWNyZXRzQmxvYhIjLmtyYW5lLnYxLkRlY3J5cHRTZWNyZXRzQmxvYlJlcXVlc3QaJC5rcmFuZS52MS5EZWNyeXB0U2VjcmV0c0Jsb2JSZXNwb25zZUKVAQoMY29tLmtyYW5lLnYxQgxTZWNyZXRzUHJvdG9QAVo2Z2l0aHViLmNvbS91bmtleWVkL3Vua2V5L2dvL2dlbi9wcm90by9rcmFuZS92MTtrcmFuZXYxogIDS1hYqgIIS3JhbmUuVjHKAghLcmFuZVxWMeICFEtyYW5lXFYxXEdQQk1ldGFkYXRh6gIJS3JhbmU6OlYxYgZwcm90bzM");

/**
 * @generated from message krane.v1.DecryptSecretsBlobRequest
 */
export type DecryptSecretsBlobRequest = Message<"krane.v1.DecryptSecretsBlobRequest"> & {
  /**
   * The encrypted secrets blob from the pod spec (UNKEY_SECRETS_BLOB env var).
   * This is the SecretsConfig proto, encrypted with the environment's vault keyring.
   *
   * @generated from field: bytes encrypted_blob = 1;
   */
  encryptedBlob: Uint8Array;

  /**
   * Environment ID (keyring) to use for decryption.
   *
   * @generated from field: string environment_id = 2;
   */
  environmentId: string;

  /**
   * Token for authentication (K8s service account token or DB-stored token).
   *
   * @generated from field: string token = 3;
   */
  token: string;

  /**
   * Deployment ID for token validation.
   *
   * @generated from field: string deployment_id = 4;
   */
  deploymentId: string;
};

/**
 * Describes the message krane.v1.DecryptSecretsBlobRequest.
 * Use `create(DecryptSecretsBlobRequestSchema)` to create a new message.
 */
export const DecryptSecretsBlobRequestSchema: GenMessage<DecryptSecretsBlobRequest> = /*@__PURE__*/
  messageDesc(file_krane_v1_secrets, 0);

/**
 * @generated from message krane.v1.DecryptSecretsBlobResponse
 */
export type DecryptSecretsBlobResponse = Message<"krane.v1.DecryptSecretsBlobResponse"> & {
  /**
   * Decrypted environment variables (key -> plaintext value)
   *
   * @generated from field: map<string, string> env_vars = 1;
   */
  envVars: { [key: string]: string };
};

/**
 * Describes the message krane.v1.DecryptSecretsBlobResponse.
 * Use `create(DecryptSecretsBlobResponseSchema)` to create a new message.
 */
export const DecryptSecretsBlobResponseSchema: GenMessage<DecryptSecretsBlobResponse> = /*@__PURE__*/
  messageDesc(file_krane_v1_secrets, 1);

/**
 * SecretsService provides decrypted secrets to running workloads.
 * Called by the unkey-env binary injected into customer pods/containers.
 *
 * @generated from service krane.v1.SecretsService
 */
export const SecretsService: GenService<{
  /**
   * DecryptSecretsBlob decrypts an encrypted secrets blob passed in the pod spec.
   * This avoids DB lookups - the encrypted blob travels with the pod.
   * Authentication is via K8s service account token or DB-stored token.
   *
   * @generated from rpc krane.v1.SecretsService.DecryptSecretsBlob
   */
  decryptSecretsBlob: {
    methodKind: "unary";
    input: typeof DecryptSecretsBlobRequestSchema;
    output: typeof DecryptSecretsBlobResponseSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_krane_v1_secrets, 0);

