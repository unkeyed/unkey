// @generated by protoc-gen-es v2.8.0 with parameter "target=ts"
// @generated from file krane/v1/secrets.proto (package krane.v1, syntax proto3)
/* eslint-disable */

import type { GenFile, GenMessage, GenService } from "@bufbuild/protobuf/codegenv2";
import { fileDesc, messageDesc, serviceDesc } from "@bufbuild/protobuf/codegenv2";
import type { Message } from "@bufbuild/protobuf";

/**
 * Describes the file krane/v1/secrets.proto.
 */
export const file_krane_v1_secrets: GenFile = /*@__PURE__*/
  fileDesc("ChZrcmFuZS92MS9zZWNyZXRzLnByb3RvEghrcmFuZS52MSJDChtHZXREZXBsb3ltZW50U2VjcmV0c1JlcXVlc3QSFQoNZGVwbG95bWVudF9pZBgBIAEoCRINCgV0b2tlbhgCIAEoCSKVAQocR2V0RGVwbG95bWVudFNlY3JldHNSZXNwb25zZRJFCghlbnZfdmFycxgBIAMoCzIzLmtyYW5lLnYxLkdldERlcGxveW1lbnRTZWNyZXRzUmVzcG9uc2UuRW52VmFyc0VudHJ5Gi4KDEVudlZhcnNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBInEKGURlY3J5cHRTZWNyZXRzQmxvYlJlcXVlc3QSFgoOZW5jcnlwdGVkX2Jsb2IYASABKAwSFgoOZW52aXJvbm1lbnRfaWQYAiABKAkSDQoFdG9rZW4YAyABKAkSFQoNZGVwbG95bWVudF9pZBgEIAEoCSKRAQoaRGVjcnlwdFNlY3JldHNCbG9iUmVzcG9uc2USQwoIZW52X3ZhcnMYASADKAsyMS5rcmFuZS52MS5EZWNyeXB0U2VjcmV0c0Jsb2JSZXNwb25zZS5FbnZWYXJzRW50cnkaLgoMRW52VmFyc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAEy2AEKDlNlY3JldHNTZXJ2aWNlEmUKFEdldERlcGxveW1lbnRTZWNyZXRzEiUua3JhbmUudjEuR2V0RGVwbG95bWVudFNlY3JldHNSZXF1ZXN0GiYua3JhbmUudjEuR2V0RGVwbG95bWVudFNlY3JldHNSZXNwb25zZRJfChJEZWNyeXB0U2VjcmV0c0Jsb2ISIy5rcmFuZS52MS5EZWNyeXB0U2VjcmV0c0Jsb2JSZXF1ZXN0GiQua3JhbmUudjEuRGVjcnlwdFNlY3JldHNCbG9iUmVzcG9uc2VClQEKDGNvbS5rcmFuZS52MUIMU2VjcmV0c1Byb3RvUAFaNmdpdGh1Yi5jb20vdW5rZXllZC91bmtleS9nby9nZW4vcHJvdG8va3JhbmUvdjE7a3JhbmV2MaICA0tYWKoCCEtyYW5lLlYxygIIS3JhbmVcVjHiAhRLcmFuZVxWMVxHUEJNZXRhZGF0YeoCCUtyYW5lOjpWMWIGcHJvdG8z");

/**
 * @generated from message krane.v1.GetDeploymentSecretsRequest
 */
export type GetDeploymentSecretsRequest = Message<"krane.v1.GetDeploymentSecretsRequest"> & {
  /**
   * The deployment ID to fetch secrets for
   *
   * @generated from field: string deployment_id = 1;
   */
  deploymentId: string;

  /**
   * Token for authentication (generated at pod creation, validated per backend)
   *
   * @generated from field: string token = 2;
   */
  token: string;
};

/**
 * Describes the message krane.v1.GetDeploymentSecretsRequest.
 * Use `create(GetDeploymentSecretsRequestSchema)` to create a new message.
 */
export const GetDeploymentSecretsRequestSchema: GenMessage<GetDeploymentSecretsRequest> = /*@__PURE__*/
  messageDesc(file_krane_v1_secrets, 0);

/**
 * @generated from message krane.v1.GetDeploymentSecretsResponse
 */
export type GetDeploymentSecretsResponse = Message<"krane.v1.GetDeploymentSecretsResponse"> & {
  /**
   * Decrypted environment variables (key -> plaintext value)
   *
   * @generated from field: map<string, string> env_vars = 1;
   */
  envVars: { [key: string]: string };
};

/**
 * Describes the message krane.v1.GetDeploymentSecretsResponse.
 * Use `create(GetDeploymentSecretsResponseSchema)` to create a new message.
 */
export const GetDeploymentSecretsResponseSchema: GenMessage<GetDeploymentSecretsResponse> = /*@__PURE__*/
  messageDesc(file_krane_v1_secrets, 1);

/**
 * @generated from message krane.v1.DecryptSecretsBlobRequest
 */
export type DecryptSecretsBlobRequest = Message<"krane.v1.DecryptSecretsBlobRequest"> & {
  /**
   * The encrypted secrets blob from the pod spec (UNKEY_SECRETS_BLOB env var).
   * This is the SecretsConfig proto, encrypted with the environment's vault keyring.
   *
   * @generated from field: bytes encrypted_blob = 1;
   */
  encryptedBlob: Uint8Array;

  /**
   * Environment ID (keyring) to use for decryption.
   *
   * @generated from field: string environment_id = 2;
   */
  environmentId: string;

  /**
   * Token for authentication (K8s service account token or DB-stored token).
   *
   * @generated from field: string token = 3;
   */
  token: string;

  /**
   * Deployment ID for token validation.
   *
   * @generated from field: string deployment_id = 4;
   */
  deploymentId: string;
};

/**
 * Describes the message krane.v1.DecryptSecretsBlobRequest.
 * Use `create(DecryptSecretsBlobRequestSchema)` to create a new message.
 */
export const DecryptSecretsBlobRequestSchema: GenMessage<DecryptSecretsBlobRequest> = /*@__PURE__*/
  messageDesc(file_krane_v1_secrets, 2);

/**
 * @generated from message krane.v1.DecryptSecretsBlobResponse
 */
export type DecryptSecretsBlobResponse = Message<"krane.v1.DecryptSecretsBlobResponse"> & {
  /**
   * Decrypted environment variables (key -> plaintext value)
   *
   * @generated from field: map<string, string> env_vars = 1;
   */
  envVars: { [key: string]: string };
};

/**
 * Describes the message krane.v1.DecryptSecretsBlobResponse.
 * Use `create(DecryptSecretsBlobResponseSchema)` to create a new message.
 */
export const DecryptSecretsBlobResponseSchema: GenMessage<DecryptSecretsBlobResponse> = /*@__PURE__*/
  messageDesc(file_krane_v1_secrets, 3);

/**
 * SecretsService provides decrypted secrets to running workloads.
 * Called by the unkey-env binary injected into customer pods/containers.
 *
 * @generated from service krane.v1.SecretsService
 */
export const SecretsService: GenService<{
  /**
   * GetDeploymentSecrets returns decrypted environment variables for a deployment.
   * Authentication is via a token generated at deployment creation time.
   * DEPRECATED: Use DecryptSecretsBlob instead for better performance.
   *
   * @generated from rpc krane.v1.SecretsService.GetDeploymentSecrets
   */
  getDeploymentSecrets: {
    methodKind: "unary";
    input: typeof GetDeploymentSecretsRequestSchema;
    output: typeof GetDeploymentSecretsResponseSchema;
  },
  /**
   * DecryptSecretsBlob decrypts an encrypted secrets blob passed in the pod spec.
   * This avoids DB lookups - the encrypted blob travels with the pod.
   * Authentication is via K8s service account token or DB-stored token.
   *
   * @generated from rpc krane.v1.SecretsService.DecryptSecretsBlob
   */
  decryptSecretsBlob: {
    methodKind: "unary";
    input: typeof DecryptSecretsBlobRequestSchema;
    output: typeof DecryptSecretsBlobResponseSchema;
  },
}> = /*@__PURE__*/
  serviceDesc(file_krane_v1_secrets, 0);

