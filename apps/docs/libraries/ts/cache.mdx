---
title: "@unkey/cache"
description: "Cache middleware with types"
---


<Card icon="github" title="github.com/unkeyed/unkey/tree/main/packages/cache" href="https://github.com/unkeyed/unkey/tree/main/packages/cache"/>

- **Typescript**: Fully typesafe with namespaces
- **Tiered Cache**: Includes many store implementations to fall back on
- **Metrics**: Middleware for collecting metrics
- **Stale-While-Revalidate**: Async loading of data from your origin
- **Encryption**: Middleware for automatic encryption of cache values
- **Composable**: Mix and match primitives to build what you need

## Quickstart

<Tabs>
  <Tab title="npm">
  ```bash
   npm install @unkey/cache
   ```
  </Tab>
  <Tab title="pnpm">
  ```bash
   pnpm add @unkey/cache
   ```
  </Tab>
  <Tab title="yarn">
  ```bash
   yarn add @unkey/cache
   ```
  </Tab>
  <Tab title="bun">
    ```bash
    bun install @unkey/cache
    ```
  </Tab>
</Tabs>


```ts
import { MemoryStore, CloudflareStore, Namespace, createCache } from "@unkey/cache";

/**
* Define your data types.
* You can hopefully reuse some of these from your database models.
*/
type User = {
  email: string;
};

type Account = {
  name: string;
};

/**
* Configure the swr cache defaults.
*/
const fresh = 60_000; // fresh for 1 minute
const stale = 900_000; // stale for 15 minutes

/**
* Create your store instances
*/
const memory = new MemoryStore({ ... });
const cloudflare = new CloudflareStore({...})

/**
* Create your cache instance
*/
const cache = createCache({
  account: new Namespace<Account>(ctx, {
    stores: [memory],
    fresh,
    stale,
  }),
  user: new Namespace<User>(ctx, {
    stores: [memory, cloudflare], // tiered cache
    fresh,
    stale,
  }),
});

await cache.account.set("key", { name: "x" });

const user = await cache.user.get("user_123");

// typescript error, because `email` is not a key of `Account`
await cache.account.set("key", { email: "x" });
```

## Features

### Typesafe Namespaces
<Warning>coming soon</Warning>

### Tiered Cache
<Warning>coming soon</Warning>

### Stale-While-Revalidate
<Warning>coming soon</Warning>




## Stores

### Memory

<Warning>coming soon</Warning>

### Cloudflare
<Warning>coming soon</Warning>

## Middlewares

### Metrics
<Warning>coming soon</Warning>
### Encryption
<Warning>coming soon</Warning>
