---
title: "Overview"
description: "Typescript client for unkey"
---

If you prefer a typed experience over calling http endpoints directly, you can use our sdk `@unkey/api`.

## Install

<Tabs>
  <Tab title="npm">
  ```bash
   npm install @unkey/api
  ```
  </Tab>
  <Tab title="pnpm">
  ```bash
   pnpm add @unkey/api
  ```
  </Tab>
  <Tab title="yarn">
  ```bash
   yarn add @unkey/api
  ```
  </Tab>
    <Tab title="bun">
  ```bash
   bun install @unkey/api
  ```
  </Tab>
</Tabs>

## Unkey Root Key

When creating, revoking or updating resources, you will need your root key â€” you can create a new one in the [settings](https://unkey.dev/app/settings/root-keys).
Afterwards you need to provide it to the client:

```ts
import { Unkey } from "@unkey/api";

const unkey = new Unkey({ rootKey: "<UNKEY_ROOT_KEY>" });
```

Always keep your root key safe and reset it `if` you suspect it has been compromised.

## Response format

Because forgetting to handle thrown errors properly in javascript is often forgotten, we have decided to explicitely return errors to be handled. Fortunately typescript helps us here and everything is typesafe.

Every method returns either an `error` or a `result` field, never both and never none.

<CodeGroup>
```ts Success
{
  result: T // the result depends on what method you called
}
```

```ts Error
{
  error: {
    // A machine readable error code
    code: ErrorCode;

    // A link to our documentation explaining this error in more detail
    docs: string;

    // A human readable short explanation
    message: string;

    // The request id for easy support lookup
    requestId: string;
  }
}
```

</CodeGroup>

## Checking for errors

To check for errors you use the `error` property, our errors are easy to read and provide a link to our documentation for more information.

```ts
import { verifyKey } from "@unkey/api";

const { result, error } = await verifyKey("key_123");

if (error) {
  // handle potential network or bad request error
  // a link to our docs will be in the `error.docs` field
  console.error(error.message);
  return;
}

if (!result.valid) {
  // do not grant access
  return;
}

// process request
console.log(result);
```


## Options

The constructor accepts some options to customize the behavior:


### Base Url

Run all requests agaisnt your own instance of unkey hosted on your own infrastructure.

<ParamField body="baseUrl" type="string" default="https://api.unkey.dev">
  The age of the user. Cannot be less than 0
</ParamField>
```ts
const unkey = new Unkey({
  //...
  baseUrl: "https://my.domain"
})
```

### Retries

By default the client will retry on network errors, you can customize this behavior:


<ParamField body="retry">
  <Expandable defaultOpen>
    <ParamField body="attempts" type="integer">
      How often to retry
    </ParamField>
    <ParamField body="backoff" type="(retryCount: number) => number">
      A function that returns how many milliseconds to wait until the next attempt is made.
    </ParamField>
  </Expandable>
</ParamField>

```ts
const unkey = new Unkey({
  // ...
  retry: {
    attempts: 3,
    backoff: (retryCount) => retryCount * 1000
  }
})
```

### Cache

Configure the `fetch` cache behavior.

<Warning>
As of October 2023, the `cache` option is not yet implemented in cloudflare workers and will throw an error if used.
</Warning>

<ParamField body="cache" type="string">
  Available options are: `default`, `force-cache`, `no-cache`, `no-store`, `only-if-cached` or `reload`.
 </ParamField>

```ts
const unkey = new Unkey({
  // ...
  cache: "no-cache"
})
```
