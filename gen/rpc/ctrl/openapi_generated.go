// Code generated by generate-rpc-clients. DO NOT EDIT.

package ctrl

import (
	"context"

	"connectrpc.com/connect"
	v1 "github.com/unkeyed/unkey/gen/proto/ctrl/v1"
	"github.com/unkeyed/unkey/gen/proto/ctrl/v1/ctrlv1connect"
	"github.com/unkeyed/unkey/pkg/otel/tracing"
)

// OpenApiServiceClient wraps ctrlv1connect.OpenApiServiceClient with simplified signatures.
// Request and response types are plain protobuf messages without connect wrappers.
type OpenApiServiceClient interface {
	GetOpenApiDiff(ctx context.Context, req *v1.GetOpenApiDiffRequest) (*v1.GetOpenApiDiffResponse, error)
}

var _ OpenApiServiceClient = (*ConnectOpenApiServiceClient)(nil)

// ConnectOpenApiServiceClient adapts a ctrlv1connect.OpenApiServiceClient to the simplified OpenApiServiceClient interface.
type ConnectOpenApiServiceClient struct {
	inner ctrlv1connect.OpenApiServiceClient
}

// NewConnectOpenApiServiceClient creates a new ConnectOpenApiServiceClient.
func NewConnectOpenApiServiceClient(inner ctrlv1connect.OpenApiServiceClient) *ConnectOpenApiServiceClient {
	return &ConnectOpenApiServiceClient{inner: inner}
}

func (c *ConnectOpenApiServiceClient) GetOpenApiDiff(ctx context.Context, req *v1.GetOpenApiDiffRequest) (*v1.GetOpenApiDiffResponse, error) {
	ctx, span := tracing.Start(ctx, "OpenApiService.GetOpenApiDiff")
	defer span.End()
	resp, err := c.inner.GetOpenApiDiff(ctx, connect.NewRequest(req))
	if err != nil {
		if connect.CodeOf(err) != connect.CodeNotFound {
			tracing.RecordError(span, err)
		}
		return nil, err
	}
	return resp.Msg, nil
}
